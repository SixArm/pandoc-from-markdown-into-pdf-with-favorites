#!/bin/sh

# pandoc-from-markdown-into-pdf-with-favorites
#
# Convert from a markdown file into a PDF file.
#
# Thanks to https://learnbyexample.github.io/customizing-pandoc/
#
#
# ## Prerequisites
#
# This script requires pandoc and xelatex to be installed.
#
#
# ### macOS install
#
# Example using brew:
#
# ```sh
# brew install pandoc
# brew install mactex
# ```
#
# Verify the programs are runnable:
#
# ```sh
# $ which pandoc
# /usr/local/bin/pandoc
#
# $ pandoc --version
# pandoc 2.17.1.1
#
# $ which xelatex
# /Library/TeX/texbin/xelatex
#
# $ xelatex --version
# XeTeX 3.141592653-2.6-0.999993 (TeX Live 2021)
# ```


DIR0=$(dirname $0)

pandoc \
    -f gfm \
    -V linkcolor:blue \
    -V geometry:a4paper \
    -V geometry:margin=2.5cm \
    -V mainfont="Georgia" \
    -V monofont="DejaVu Sans Mono" \
    -V fontsize=12pt \
    --highlight-style="$DIR0/pygments.theme" \
    --pdf-engine=xelatex \
    --include-in-header="$DIR0/chapter.tex" \
    --include-in-header="$DIR0/blockquote.tex" \
    --include-in-header="$DIR0/bullet.tex" \
    --include-in-header="$DIR0/inline_code.tex" \
    --toc \
    --toc-depth=2 \
   "$@" 

# Unused:
#    --listings -H "$DIR0/listings-setup.tex" \
